<!doctype html>
<html lang="en">
   <head>
      <!-- Required meta tags -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <!-- favicon -->
      <link rel="icon" type="image/png" href="../assets/images/favicon.png">
      <!-- Bootstrap CSS -->
      <link rel="stylesheet" href="assets/css/bootstrap.min.css" media="all">
      <!-- Fonts Awesome CSS -->
      <link rel="stylesheet" type="text/css" href="assets/css/all.min.css">
      <!-- google fonts -->
      <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;0,700;0,800;1,400&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,400&display=swap" rel="stylesheet">
      <!-- Custom CSS -->
      <link rel="stylesheet" type="text/css" href="style.css">
      <title>Travele | Travel & Tour HTML5 template </title>
</head>
<body>
    <!-- start Container Wrapper -->
    <div id="container-wrapper">
        <!-- Dashboard -->
        <div id="dashboard" class="dashboard-container">
            <div class="dashboard-header sticky-header">
                <div class="content-left  logo-section pull-left">
                    <h1><a href="../index.html"><img src="assets/images/logo.png" alt=""></a></h1>
                </div>
                <div class="heaer-content-right pull-right">
                    <div class="search-field">
                        <form>
                            <div class="form-group">
                                <input type="text" class="form-control" id="search" placeholder="Search Now">
                                <a href="#"><span class="search_btn"><i class="fa fa-search" aria-hidden="true"></i></span></a>
                            </div>
                        </form>
                    </div>
                    <div class="dropdown">
                        <a class="dropdown-toggle" id="notifyDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <div class="dropdown-item">
                                <i class="far fa-envelope"></i>
                                <span class="notify">3</span>
                            </div>
                        </a>
                        <div class="dropdown-menu notification-menu" aria-labelledby="notifyDropdown">
                            <h4> 3 Notifications</h4>
                            <ul>
                                <li>
                                    <a href="#">
                                        <div class="list-img">
                                            <img src="assets/images/comment.jpg" alt="">
                                        </div>
                                        <div class="notification-content">
                                            <p>You have a notification.</p>
                                            <small>2 hours ago</small>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="list-img">
                                            <img src="assets/images/comment2.jpg" alt="">
                                        </div>
                                        <div class="notification-content">
                                            <p>You have a notification.</p>
                                            <small>2 hours ago</small>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="list-img">
                                            <img src="assets/images/comment3.jpg" alt="">
                                        </div>
                                        <div class="notification-content">
                                            <p>You have a notification.</p>
                                            <small>2 hours ago</small>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                            <a href="#" class="all-button">See all messages</a>
                        </div>
                    </div>
                    <div class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown">
                            <div class="dropdown-item">
                                <i class="far fa-bell"></i>
                                <span class="notify">3</span>
                            </div>
                        </a>
                        <div class="dropdown-menu notification-menu">
                            <h4> 3 Messages</h4>
                            <ul>
                                <li>
                                    <a href="#">
                                        <div class="list-img">
                                            <img src="assets/images/comment4.jpg" alt="">
                                        </div>
                                        <div class="notification-content">
                                            <p>You have a notification.</p>
                                            <small>2 hours ago</small>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="list-img">
                                            <img src="assets/images/comment5.jpg" alt="">
                                        </div>
                                        <div class="notification-content">
                                            <p>You have a notification.</p>
                                            <small>2 hours ago</small>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="list-img">
                                            <img src="assets/images/comment6.jpg" alt="">
                                        </div>
                                        <div class="notification-content">
                                            <p>You have a notification.</p>
                                            <small>2 hours ago</small>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                            <a href="#" class="all-button">See all messages</a>
                        </div>
                    </div>
                    <div class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown">
                            <div class="dropdown-item profile-sec">
                                <img src="assets/images/comment.jpg" alt="">
                                <span>My Account </span>
                                <i class="fas fa-caret-down"></i>
                            </div>
                        </a>
                        <div class="dropdown-menu account-menu">
                            <ul>
                                <li><a href="#"><i class="fas fa-cog"></i>Settings</a></li>
                                <li><a href="#"><i class="fas fa-user-tie"></i>Profile</a></li>
                                <li><a href="#"><i class="fas fa-key"></i>Password</a></li>
                                <li><a href="#"><i class="fas fa-sign-out-alt"></i>Logout</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="dashboard-navigation">
                <!-- Responsive Navigation Trigger -->
                <div id="dashboard-Navigation" class="slick-nav"></div>
                <div id="navigation" class="navigation-container">
                    <ul>
                        <li><a href="dashboard.html"><i class="far fa-chart-bar"></i> Dashboard</a></li>
                        <li><a><i class="fas fa-user"></i>Users</a>
                            <ul>
                                <li>
                                    <a href="user.html">User</a>
                                </li>
                                <li>
                                    <a href="user-edit.html">User edit</a>
                                </li>
                                <li>
                                    <a href="new-user.html">New user</a>
                                </li>
                            </ul>
                        </li>
                        <li class="active-menu"><a href="db-add-package.html"><i class="fas fa-umbrella-beach"></i>Add Package</a></li>
                        <li>
                            <a><i class="fas fa-hotel"></i></i>packages</a>
                            <ul>
                                <li><a href="db-package-active.php">Active</a></li>
                                <li><a href="db-package-pending.php">Pending</a></li>
                                
                            </ul>   
                        </li>
                        <li><a href="db-booking.html"><i class="fas fa-ticket-alt"></i> Booking & Enquiry</a></li>
                        <li><a href="db-wishlist.html"><i class="far fa-heart"></i>Wishlist</a></li>
                        <li><a href="db-comment.html"><i class="fas fa-comments"></i>Comments</a></li>
                        <li><a href="login.html"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
                    </ul>
                </div>
            </div>
            <form action="change_pack_data.php" method="POST" enctype="multipart/form-data">
                
                <div class="db-info-wrap db-add-tour-wrap">
                    <div class="row">
                        <!-- Listings -->
                        <div class="col-lg-8 col-xl-9">
                            <!-- ... Rest of your HTML code ... -->
                            <div class="custom-field-wrap">
                                <h4>Get Package Details</h4>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label>Package ID</label>
                                            <input type="text" name="pack_id_input" placeholder="Enter Package ID" required>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <button type="button" onclick="getPackageDetails()">Get Pack Details</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
<!-- ... Rest of your HTML code ... -->

                            <div class="dashboard-box">
                                <div class="custom-field-wrap">
                                    <div class="form-group">
                                        <label>Title</label>
                                        <input type="text" name="title" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Description</label>
                                        <textarea name="pack_description" required></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label>Programm details</label>
                                        <textarea name="programm" required></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="dashboard-box">
                                <div class="custom-field-wrap">
                                    <h4>Dates and Prices</h4>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label>Group Size</label>
                                                <input type="number" name="grpSize" placeholder="No of Peoples" required>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <label>Trip Duration</label>
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <input type="number" placeholder="Days" name="duration_days" onchange="calculatenightDays()" required>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <input type="number" placeholder="Nights" name="duration_nights" disabled>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label>Category</label>
                                                <select name="pack_category" required>
                                                    <option>Adventure</option>
                                                    <option>Beach</option>
                                                    <option>Camp fire</option>
                                                    <option>Off road</option>
                                                    <option>Wild life</option>
                                                    <option>Off road</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-sm-3">
                                        <div class="form-group">
                                            <label>Sale Price</label>
                                            <input type="text" name="salePrice" id="salePrice" disabled>
                                        </div>
                                    </div>

                                    <div class="col-sm-3">
                                        <div class="form-group">
                                            <label>Regular Price</label>
                                            <input type="text" name="regPrice" onchange="calculateSalePrice()" required>
                                        </div>
                                    </div>
                                    <div class="col-sm-2">
                                        <div class="form-group">
                                            <label>Discount</label>
                                            <input type="text" name="disPrice" onchange="calculateSalePrice()" required>
                                        </div>
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <div class="dashboard-box">
                           <h4>Gallery</h4>
                           <div class="custom-field-wrap">
                              <div class="dragable-field">
                                 <div class="dragable-field-inner">
                                    <p class="drag-drop-info" >Drop Files To Upload</p>
                                    <p>or</p>
                                    <div class="upload-input">
                                       <div class="form-group">
                                          <span class="upload-btn">Upload Images</span>
                                          <input type="file" name="pack_img_gallery[]" multiple >
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                           
                        </div>
                        <div class="col-lg-4 col-xl-3">
                            <div class="dashboard-box">
                                <div class="custom-field-wrap">
                                    <h4>Publish</h4>
                                    <div class="publish-btn">
                                        <div class="form-group">
                                            <input type="submit" name="draft" value="Save Draft">
                                        </div>
                                        <div class="form-group">
                                            <input type="submit" name="preview" value="Preview">
                                        </div>
                                    </div>
                                    <div class="publish-status">
                                        <span>
                                            <strong>Status:</strong>
                                            Draft
                                        </span>
                                        <a href="#">Edit</a>
                                    </div>
                                    <div class="publish-status">
                                        <span>
                                            <strong>Visibility:</strong>
                                            Public
                                        </span>
                                        <a href="#">Edit</a>
                                    </div>
                                    <div class="publish-status">
                                        <span>
                                            <strong>Visibility:</strong>
                                            Public
                                        </span>
                                        <a href="#">Edit</a>
                                    </div>
                                    <div class="publish-action">
                                        <input type="submit" name="publish" value="Publish">
                                    </div>
                                </div>
                            </div>
                            <div class="dashboard-box">
                                <div class="custom-field-wrap db-pop-field-wrap">
                                 
                                    <div class="form-group">
                                        <label class="custom-input">
                                            <input type="checkbox" name="active_status" value="1">
                                            <span class="custom-input-field"></span>
                                            Active Status
                                        </label>
                                    </div>
                                </div>
                                
                                <div class="custom-field-wrap db-pop-field-wrap">
                                    
                                    <div class="form-group">
                                      
                                            <label for="rating">Rating:</label>
                                            <input type="number" id="rating" name="rating" min="0" max="5" step="0.1" required>
                                                    
                                    </div>
                                </div>
                                
                                <div class="custom-field-wrap db-media-field-wrap">
                                    <h4>Add image</h4>
                                    <div class="upload-input">
                                        <div class="form-group">
                                          <span class="upload-btn">Upload a image</span>
                                          <input type="file" name="thumb_image" required>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>  
                    <!-- ... Rest of your HTML code ... -->
                    <div class="custom-field-wrap">
                        <h4>Location</h4>
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label>Select Map</label>
                                    <!-- Change the <select> element to a <input> element with type="text" -->
                                    <input type="text" name="location" placeholder="Enter Location" required>
                                </div>
                            </div>
                        </div>
                    </div>
<!-- ... Rest of your HTML code ... -->

                </div>

            </form>
            <!-- Content / End -->
            <!-- Copyrights -->
            <div class="copyrights">
               Copyright © 2021 Travele. All rights reserveds.
            </div>
        </div>
        <!-- Dashboard / End -->
    </div>

    <script>
   function calculateSalePrice() {
    // Get the values of the regular price and discount input fields
    const regPriceInput = document.querySelector('input[name="regPrice"]');
    const disPriceInput = document.querySelector('input[name="disPrice"]');
    const salePriceInput = document.getElementById('salePrice'); // Use the id attribute to select the input

    // Parse the values as numbers
    const regPrice = parseFloat(regPriceInput.value);
    const discount = parseFloat(disPriceInput.value);

    // Calculate the sale price
    const salePrice = regPrice - (regPrice * discount)*0.01;

    // Update the sale price input field with the calculated value
    salePriceInput.value = salePrice.toFixed(2); // Keep only two decimal places
}



function calculatenightDays() {
    const daysInput = document.querySelector('input[name="duration_days"]');
    const nightsInput = document.querySelector('input[name="duration_nights"]');

    const days = daysInput.valueAsNumber;
    const nights = days - 1;

    nightsInput.value = nights;
}

</script>

<!-- ... Rest of your HTML code ... -->
<script>
function getPackageDetails() {
    const packIdInput = document.querySelector('input[name="pack_id_input"]');
    const packId = packIdInput.value.trim(); // Get the inputted pack_id

    // Make an AJAX request to fetch data from the server
    fetch(`get_package_details.php?pack_id=${packId}`)
        .then(response => response.json())
        .then(data => {
            // Populate the input fields with the fetched data
            if (data.success) {
                const titleInput = document.querySelector('input[name="title"]');
                const packDescriptionInput = document.querySelector('textarea[name="pack_description"]');
                const programmInput = document.querySelector('textarea[name="programm"]');
                const grpSizeInput = document.querySelector('input[name="grpSize"]');
                const durationDaysInput = document.querySelector('input[name="duration_days"]');
                const packCategorySelect = document.querySelector('select[name="pack_category"]');
                const regPriceInput = document.querySelector('input[name="regPrice"]');
                const disPriceInput = document.querySelector('input[name="disPrice"]');
                const locationInput = document.querySelector('input[name="location"]');
                const rateInput = document.querySelector('input[name="rating"]');
                const thumImageInput = document.querySelector('input[name="thumb_image"]');


                

                titleInput.value = data.package.title;
                packDescriptionInput.value = data.package.pack_description;
                programmInput.value = data.package.program;
                grpSizeInput.value = data.package.grp_size;
                durationDaysInput.value = data.package.duration_days;
                packCategorySelect.value = data.package.category;
                regPriceInput.value = data.package.reg_price;
                disPriceInput.value = data.package.discount;
                locationInput.value = data.package.location;
                rateInput.value = data.package.ratings;
                //thumImageInput.value = data.package.thumb_image;

                calculateSalePrice();
                calculatenightDays();  // Recalculate sale price if needed
            } else {
                // Handle error, for example, display a message to the user
                console.error(data.message);
            }
        })
        .catch(error => console.error(error));
}
</script>



    </script>
    <!-- end Container Wrapper -->
    <!-- end Container Wrapper -->
    <script src="assets/js/jquery-3.2.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/canvasjs.min.js"></script>
    <script src="assets/js/counterup.min.js"></script>
    <script src="assets/js/jquery.slicknav.js"></script>
    <script src="assets/js/dashboard-custom.js"></script>
</body>

<!-- Mirrored from cyclonethemes.com/demo/html/padhai/dashboard-addtour.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 02 Feb 2020 09:01:50 GMT -->
</html>